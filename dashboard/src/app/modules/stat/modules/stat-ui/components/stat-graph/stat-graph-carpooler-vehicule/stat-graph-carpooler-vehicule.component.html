<div class="graph">
  <div class="graph-header">
    <app-stat-graph-timemode-nav
      *ngIf="displayNav"
      [nav]="timeMode"
      [navList]="timeNavList"
      (navChange)="navChange($event)"
    >
    </app-stat-graph-timemode-nav>
  </div>

  <div class="chart-container" *ngIf="!statStore.isLoading && (data$ | async)">
    <!-- component duplicated because of ngx-chartjs option refresh issue -->
    <ngx-chartjs
      [data]="data$ | async"
      *ngIf="timeMode === 'day'"
      [type]="graphType"
      [options]="graphOption"
      [height]="70"
    ></ngx-chartjs>
    <ngx-chartjs
      [data]="data$ | async"
      *ngIf="timeMode === 'month'"
      [type]="graphType"
      [options]="graphOption"
      [height]="70"
    ></ngx-chartjs>
    <ngx-chartjs
      [data]="data$ | async"
      *ngIf="timeMode === 'cumulative'"
      [type]="graphType"
      [options]="graphOption"
      [height]="70"
    ></ngx-chartjs>
  </div>
</div>
